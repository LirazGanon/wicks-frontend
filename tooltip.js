var Tooltip=function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e={delay:500,center:!0,offsetX:0,offsetY:20},i=[];var s=function(){function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Object.assign(this,e),this.el=document.createElement("div"),this.el.textContent=t,this.el.className="tooltip",Object.assign(this.el.style,{position:"fixed",opacity:0}),this.state="hidden",this.id=i.length,i.push(this)}var n,o,a;return n=s,(o=[{key:"handleEvent",value:function(t){var e=this;switch(t.type){case"pointermove":this.position(t.clientX,t.clientY);break;case"pointerover":var s=i.find((function(t){return["will-hide","hiding"].includes(t.state)&&t.id!=e.id}));s?("will-hide"==s.state&&(clearTimeout(s.timeout),s.hide(!0)),this.show(!0)):this.show();break;case"pointerout":this.hide();break;case"transitionend":"showing"==this.state?this.state="visible":"hiding"==this.state&&this.unmount()}}},{key:"show",value:function(t){var e,i,s=this;"hidden"==this.state?(document.documentElement.append(this.el),this.computedStyle=window.getComputedStyle(this.el),this.el.style.width=Math.ceil(parseFloat(this.computedStyle.getPropertyValue("width")))+"px",this.el.style.height=Math.ceil(parseFloat(this.computedStyle.getPropertyValue("height")))+"px",this.transitionDuration=(e=this.computedStyle,-1!=(i=e.getPropertyValue("transition-property").split(", ").findIndex((function(t){return"opacity"==t})))?parseFloat(e.getPropertyValue("transition-duration").split("s, ")[i]):0),this.timeout=setTimeout((function(){s.el.style.opacity=1,s.transitionDuration?s.state="showing":s.state="visible"}),t?0:this.delay),document.addEventListener("pointermove",this),this.el.addEventListener("transitionend",this),this.state="will-show"):"hiding"==this.state?(this.el.style.opacity=1,this.state="showing"):"will-hide"==this.state&&(clearTimeout(this.timeout),this.state="visible")}},{key:"hide",value:function(t){var e=this;"visible"==this.state||t?(this.timeout=setTimeout((function(){e.el.style.opacity=0,e.transitionDuration?e.state="hiding":e.unmount()}),t?0:this.delay),this.state="will-hide"):"showing"==this.state?(this.el.style.opacity=0,this.state="hiding"):"will-show"==this.state&&(clearTimeout(this.timeout),this.unmount())}},{key:"unmount",value:function(){this.el.remove(),this.el.removeEventListener("transitionend",this),document.removeEventListener("pointermove",this),this.state="hidden"}},{key:"position",value:function(t,e){this.el.style.top=e+this.offsetY+"px",this.el.style.left=t+this.offsetX-(this.center?.5*this.el.offsetWidth:0)+"px"}}])&&t(n.prototype,o),a&&t(n,a),s}(),n={mounted:function(t,e){t.tooltip=new s(e.value),t.addEventListener("pointerover",t.tooltip),t.addEventListener("pointerout",t.tooltip)},beforeUnmount:function(t){t.removeEventListener("pointerover",t.tooltip),t.removeEventListener("pointerout",t.tooltip)},install:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e,i),t.directive("tooltip",this)}};return n}();

export default Tooltip